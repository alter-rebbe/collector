<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="/assets/main.css"/>
    <link rel="icon" type="image/jpeg" href="/alter-rebbe.jpg"/>
  </head>
  <body>
    <header class="site-header" role="banner">
      <div class="wrapper">
        <a class="site-title" rel="author" target="collectionViewer" href="/">Документы</a>
        <nav class="site-nav">
          <div class="trigger">
            <a class="page-link" href="/names.html" target="namesViewer">Имена</a>
            <a class="page-link" href="/collections.html" target="collectionViewer">Архивы</a>
            <a class="page-link" href="/notes/help.html" target="collectionViewer">Помощь</a>
            <a class="page-link" href="/notes/about.html" target="collectionViewer">О сайте</a>
          </div>
        </nav>
      </div>
    </header>
    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">
          <header class="post-header">
            <h1 class="post-title">Инструкция по расшифровке</h1>
          </header>
          <div class="post-content">
            <div>
              <ul>
                <li><a href="#подача-материала">Подача материала</a></li>
                <li><a href="#формат">Формат</a></li>
                <li><a href="#верность-оригиналу">Верность оригиналу</a></li>
                <li><a href="#структура">Структура</a></li>
                <li><a href="#кодировка">Кодировка</a></li>
                <li><a href="#имена">Имена</a></li>
                <li><a href="#teiheader">teiHeader</a></li>
                <li><a href="#ресурсы">Ресурсы</a></li>
              </ul>
              <h2 id="подача-материала">Подача материала</h2>
              <p>Содержимое сайта находится в GitHub <a href="https://github.com/opentorah/alter-rebbe.org">
                  <svg class="svg-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/minima-social-icons.svg#github"></use></svg>
                  <span class="username">repository</span>
                </a> <a href="https://github.com/opentorah/alter-rebbe.org/actions"><img src="https://github.com/opentorah/alter-rebbe.org/workflows/CI/badge.svg" alt="CI badge"/></a>.</p>
              <p>
                Рекомендуемый способ участия в расшифровке, исправлении ошибок и т.д. - открыть GitHub pull request.
                Прошёл ли Ваш pull request все проверки можно посмотреть в нём самом или на <a href=
                "https://github.com/opentorah/alter-rebbe.org/actions">странице непрерывной интеграции</a>.
              </p>
              <p>
                Если прогресс (пока) не пришёл в Ваш дом, и термины GitHub, repository и pull request Вам ничего не
                говорят - можно воспользоваться электронной почтой по адресу <a href="mailto:dub@opentorah.org"
                >dub@opentorah.org</a>.
              </p>
              <h2 id="формат">Формат</h2>
              <p>
                Файлы с расшифровами документов находятся в директориях <code>docs/store/collections/</code>; они
                названы по номеру первой страницы документа, например: <code>001.xml</code>, <code>088a.xml</code>.
              </p>
              <p>
                Файлы с информацией об именах упомянутых в документах находятся в директории <code
                >/docs/store/names</code>.
              </p>
              <p>
                Все они хранятся в XMLе, в формате <a href="https://www.tei-c.org/release/doc/tei-p5-doc/en/html/"
                >TEI</a> ("Text Encoding Initiative", "Инициатива по Кодировке Текстов"), вот уже более 30ти лет
                разрабатываемом <a href="https://tei-c.org/">содружеством</a> учёных-гуманитариев.
              </p>
              <p>
                Расшифровки документов на этом сайте используют лишь небольшое подмножество TEI; мы не пользуемся
                возможностями формата кодировать грамматический анализ текста, варианты текста, местоположение
                фрагментов текста на листе, разницу почерков и т.д.
              </p>
              <h2 id="верность-оригиналу">Верность оригиналу</h2>
              <p>Наша задача - представить оригинальные тексты документов как они есть. В частности:</p>
              <ul>
                <li>если текст использует буквы, которых нет в "современном" русском языке (например, <code>ъ</code>
                <code>ѣ</code> <code>і</code> <code>ї</code> <code>І</code> <code>Ј</code> <code>ј</code>), они должны
                быть переданы в расшифровке, причём - правильными символами стандарта <a href=
                "https://www.unicode.org/charts/PDF/U0400.pdf">Unicode</a> (например,<code>Ј</code> а не <code>J</code>)
                ;</li>
                <li>если текст использует "архаичные" формы слов (например, <code>оной</code>), они должны быть переданы
                в расшифровке;</li>
                <li>если текст использует "архаичные" написания имён (например, <code>Жегулин</code>, а не <code
                >Жигулин</code>), они должны быть переданы в расшифровке;</li>
              </ul>
              <p>и т.п.</p>
              <p>
                Все расшифровки опубликованные на сайте на данный момент будут приведены в соответствие с оригиналом
                (или удалены).
              </p>
              <h2 id="структура">Структура</h2>
              <p>
                Файл в формате TEI содержит в себе <a href="#teiheader">заголовок</a> (<code>teiHeader</code>) и сам
                текст (<code>text</code>); расшифровка текста находится внутри элемента <code>body</code>.
              </p>
              <pre><code class="language-xml"><TEI xmlns="http://www.tei-c.org/ns/1.0"> <teiHeader> ... </teiHeader>
              <text xml:lang="ru"> <body> ... </body> </text> </TEI></code></pre>
              <p>Во всех файлах уже проставлены начала страниц (<code>pb</code>, "page beginning"):</p>
              <pre><code class="language-xml"><pb n="002-1"/></code></pre>
              <p>Расшифровка текста страницы должна следовать за её началом :)</p>
              <h2 id="кодировка">Кодировка</h2>
              <p>
                Для кодировки заметок не являющихся частью оригинального текста документов (например, номера документа,
                номера страницы, позднейших вставок другим почерком, информации о пошлинах и т.д.) используется элемент
                <code>fw</code>:
              </p>
              <pre><code class="language-xml"><fw type="docNum">№ 1762.</fw></code></pre>
              <p>
                Для кодировки зачёркнутого текста используется элемент <code>del</code>; добавляется атрибут <code
                >rend</code> со значением <code>overstrike</code>. Пример: на правой стороне страницы зачёркнут номер 33
                и проставлен номер 30:
              </p>
              <pre><code class="language-xml"><fw type="pageNum" place="right"><del rend="overstrike">33</del></fw> <fw
              type="pageNum" place="right">30</fw></code></pre>
              <p>Заголовок документа (если он есть) кодируется элементом <code>head</code>:</p>
              <pre><code class="language-xml"><head>Объяснение О начале и правилах секты Каролинов.</head></code></pre>
              <p>Абзац текста кодируется элементом <code>p</code>:</p>
              <pre><code class="language-xml"><p>Присланное при всепочтеннейшимъ отношении отъ ... </p></code></pre>
              <p>Строчки текста кодируются элементом <code>l</code>:</p>
              <pre><code class="language-xml"><l>Его императорское величество высо-</l> <l>чайше повелеть соизволил,
              дѣло между</l></code></pre>
              <p>
                В тех (и только в тех!) случаях, когда новая строчка начинается внутри тага, начавшегося на предыдущей
                строчке, её начало кодируется тагом <code>lb</code>:
              </p>
              <pre><code class="language-xml"><l>кавалеромъ <persName ref="Обольяниновъ">Петромъ Хрисанфови-<lb/> чемъ
              Обольяниновымъ</persName> въ <date when="1800-11-27">27<hi rend="superscript">й</hi> день<lb/> сего
              ноября</date>, о разсмотренiи Сенату</l></code></pre>
              <p>
                Визуально выделенный текст кодируется элементом <code>emph</code> если его выделенность несёт смысловую
                нагрузку и элементом <code>hi</code> если нет. Каким образом текст выделен кодируется аттрибутом <code
                >rend</code> соответствующего элемента. Возможные значения этого атрибута: <code>underline</code> если
                текст подчёркнут, <code>big</code> если увеличен размер букв, <code>superscript</code> если текст поднят
                над строкой. Примеры:
              </p>
              <pre><code class="language-xml"><emph rend="underline">Допросы Евреевъ</emph> <emph rend="big">вашему
              императорскому величеству</emph> Ноября 27<hi rend="superscript">го</hi> дня</code></pre>
              <p>Нерзборчивые места текста кодируются элементом <code>unclear</code>:</p>
              <pre><code class="language-xml">отнял у них книги <unclear>Лекуда</unclear></code></pre>
              <p>
                Нестандартное написание и описки присутствующие в оригинальных документах кодируются элементом <code
                >sic</code>:
              </p>
              <pre><code class="language-xml"><sic>богаствъ</sic></code></pre>
              <p>
                Правильное написание кодируется элементом <code>choice</code> с вложенными в него (в произвольном
                порядке) элементами <code>sic</code> и <code>corr</code>:
              </p>
              <pre><code class="language-xml"><choice> <corr>успѣхѣ онаго</corr> <sic>успѣхѣ онаге</sic> </choice>
              </code></pre>
              <p>
                Замечания расшифровщика вставляются в текст расшифровки в виде элемента <code>note</code> с атрибутом
                <code>place</code> со значение <code>end</code>; на сайте эти замечания выглядят как подстрочные:
              </p>
              <pre><code class="language-xml"><note place="end">Не отдельный ли это документ?</note></code></pre>
              <p>
                Замечания, присутствующие в оригинале (где они, как правило, выделены символами <code>|:</code> и <code
                >:|</code>), кодируются элементом <code>note</code> с атрибутом <code>type</code> со значением <code
                >gloss</code>; на сайте эти замечания выделяются визуально:
              </p>
              <pre><code class="language-xml"><note type="gloss">|: о коем выше :|</note></code></pre>
              <p>То, что имеется в виду, может быть добавлено элементом <code>supplied</code>:</p>
              <pre><code class="language-xml"><supplied reason="implied">Магид</supplied></code></pre>
              <p>в браузере добавленное будет заключено в квадратные скобки <code>[Магид]</code>.</p>
              <p>Обращение:</p>
              <pre><code class="language-xml"><salute>Милостивый государь мой Петръ Хрисанфовичь!</salute></code></pre>
              <p>Подпись:</p>
              <pre><code class="language-xml"><signed>θедоръ Брискорнъ.</signed></code></pre>
              <p>
                Даты кодитуются элементом <code>date</code>, где атрибут <code>when</code> даёт дату в стандартной форме
                (в те годы использовался юлианский календарь):
              </p>
              <pre><code class="language-xml"><date when="1798-10-18">18 Октября</date></code></pre>
              <p>Дата вместе с местом написания:</p>
              <pre><code class="language-xml"><dateline>В <placeName ref="Петербург">С.-П-Бургѣ</placeName>, <date
              when="1800-04-23">апрѣля 23-го 1800-го</date>.</dateline></code></pre>
              <p>
                Для группирования информации в начале текста (дата, место, исходящий номер и т.д.) может быть
                использован элемент <code>opener</code>; в конце документа (дата, подпись и т.д.) - <code>closer</code>.
                Чётких правил по пользованию этими элементами пока не выработалось :(
              </p>
              <p>
                Ссылки на веб-страницы кодируются элементом <code>ref</code>, где адрес страницы - значение атрибута
                <code>target</code>:
              </p>
              <pre><code class="language-xml"><ref target="https://ru.wikipedia.org/wiki/Баал-Шем-Тов">[Википедия]</ref>
              </code></pre>
              <p>
                Текст, нажатием на который происходит переход по ссылке - это содержимое элемента <code>ref</code>;
                заключать этот текст в квадратные скобки или заменять в нём пробелы на подчёркивания нет необходимости;
                единственное требование к этому тексту - он должен присутствовать :)
              </p>
              <p>
                Ссылка на документ сайта кодируется его относительным адресом (т.е., адрес начинается не с имени сайта,
                а с <code>/</code>): <code><ref targte="/rgada/090">090</ref></code>; ссылка на коллекцию сайта
                кодируется аналогично: <code><ref targte="/rgada">РГАДА</ref></code>.
              </p>
              <h2 id="имена">Имена</h2>
              <p>
                Имена людей, мест и организаций кодируются элементами <code>persName</code>, <code>placeName</code> и
                <code>orgName</code> соответственно; атрибут <code>ref</code> отсылает к соответствующему элементу
                (<code>person</code>, <code>place</code>, <code>org</code>) в файле в директории <code
                >docs/store/names</code>:
              </p>
              <pre><code class="language-xml"><persName ref="alter-rebbe">Алтер Ребе</persName> в <placeName
              ref="Вильна">Вильне</placeName> <orgName ref="Виленский_кагал">виленский кагал</orgName></code></pre>
              <p>Файл про организацию выглядит таким образом:</p>
              <pre><code class="language-xml"><org> <orgName>Губернатор</orgName> </org></code></pre>
              <p>про местность - таким:</p>
              <pre><code class="language-xml"><place> <placeName>Литва</placeName> </place></code></pre>
              <p>а про человека - вот так:</p>
              <pre><code class="language-xml"><person> <persName>Баал Шем Тов</persName> <ref
              target="https://ru.wikipedia.org/wiki/Баал-Шем-Тов">[Википедия]</ref> </person></code></pre>
              <p>
                Имена этих файлов - это те идентификаторы, которые используются для ссылок: <code
                >ref="Баал_Шем_Тов"</code>.
              </p>
              <p>
                Имя человека кодируется элементом <code>persName</code>: <code><persName
                ="Обольянинов">Обольянинов</persName></code>, имя местности - элементом <code>paceName</code>: <code
                ><placeName ref="Вильна">Вильна</placeName></code>, название организации - элементом <code
                >orgName</code>: <code><orgName ref="Виленский_кагал">виленский кагал</orgName></code>.
              </p>
              <p>Атрибут <code>ref</code> может отсутствовать.</p>
              <p>Код который порождает сайт:</p>
              <ul>
                <li>если у ссылки на имя присутствует атрибут <code>ref</code>, проверяет, что в имя, на которое этот
                атрибут ссылается, наличествует;</li>
                <li>вставляет в файл с именами обратные ссылки на документы где каждое из имён присутствует;</li>
                <li>перечисляет (в файле <code>docs/reports/no-refs.html</code>) имена, закодированные без атрибута
                <code>ref</code>.</li>
              </ul>
              <h2 id="teiheader">teiHeader</h2>
              <p>
                Элемент <code>teiHeader</code> содержит метаинформацию о документе, которая показывается в (порождаемом
                программой) оглавлении коллекции:
              </p>
              <ul>
                <li>автор (<code>author</code>);</li>
                <li>расшифровщик (<code>editor</code>; атрибут <code>role</code> со значением <code
                >transcriber</code>);</li>
                <li>краткое содержание (<code>abstract</code>);</li>
                <li>дата написания (<code>date</code> внутри элемента <code>creation</code>);</li>
                <li>имя человека, которому документ адресован (внутри элемента <code>profileDesc</code> элементом <code
                >correspDesc</code>, содержащим элемент <code>persName</code> с атрибутом <code>ref</code> со значением
                <code>addressee</code>):</li>
              </ul>
              <pre><code class="language-xml"><teiHeader> <fileDesc> <titleStmt> <author><persName
              ref="Гирш_Давидовичъ">Гирш Давидович</persName></author> <editor role="transcriber"><persName
              ref="VK">Василий Когаловский</persName></editor> </titleStmt> </fileDesc> <profileDesc>
              <abstract><p>Донос</p></abstract> <creation><date when="1800-04-23">1800-04-23</date></creation>
              <correspDesc> <correspAction><persName ref="Обольянинов"
              role="addressee">Обольянинову</persName></correspAction> </correspDesc> </profileDesc> </teiHeader></code>
              </pre>
              <h2 id="ресурсы">Ресурсы</h2>
              <p>
                Исходные документы из репозитории GitHub обрабаттываются и публикуются на статическом сайте <code
                >store.alter-rebbe.org</code>. Ведутся работы по превращению сайта в динамический; текущая версия
                публикуется на сайте <code>app.alter-rebbe.org</code>. Пока что этот сайт копирует страницы с <code
                >store.alter-rebbe.org</code>, но вскоре будет порождать их сам, и тогда <code
                >store.alter-rebbe.org</code> будет публиковать только исходные, необработанные документы. Сайт <code
                >www.alter-rebbe.org</code> указывает на <code>app.alter-rebbe.org</code>.
              </p>
              <p>
                Факсимиле документов опубликованы на сайте <code>facsimiles.alter-rebbe.org</code>. Туда ведут ссылки из
                страниц сайта <code>www.alter-rebbe.org</code>. Этот сайт на самом деле - Google Storage <a href=
                "https://console.cloud.google.com/storage/browser/facsimiles.alter-rebbe.org">Bucket</a>. Имея доступ,
                можно посмотреть, что там есть.
              </p>
              <p>
                Факсимиле как они были получены из архивов (листы не разрезаны, файлы не переименованы) и прочая
                информация хранятся в <a href=
                "https://drive.google.com/drive/folders/1AiYcBGocnO4D6pgSPn475EkWqb4mub9T?usp=sharing">Google Drive</a>.
                Имея доступ, можно посмотреть, что там есть.
              </p>
              <script type="module">window.name = "collectionViewer"</script>
            </div>
          </div>
        </article>
      </div>
    </main>
    <footer class="site-footer h-card">
      <data class="u-url" href="/"/>
      <div class="wrapper">
        <div class="footer-col-wrapper">
          <div class="footer-col footer-col-1">
            <ul class="contact-list">
              <li class="p-name">www.alter-rebbe.org</li>
              <li><a class="u-email" href="mailto:dub@opentorah.org">dub@opentorah.org</a></li>
            </ul>
          </div>
          <div class="footer-col footer-col-2">
            <ul class="social-media-list"></ul>
          </div>
          <div class="footer-col footer-col-3">
            <span>documents related to early Chabad history<br/> 🄯 <a href="http://www.opentorah.org/" target=
            "collectionViewer">the Open Torah Project</a> <a href="http://creativecommons.org/licenses/by/4.0/" target=
            "collectionViewer">CC BY 4.0</a></span>
          </div>
        </div>
      </div>
    </footer>
  </body>
  <script type="module">import loadWindow from '/js/window.js'; loadWindow('collectionViewer',
  'UA-154490117-1');</script>
</html>