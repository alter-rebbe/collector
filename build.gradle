plugins {
  id 'com.github.ben-manes.versions'
  id 'idea'
  id 'java'
}

final String opentorahVersion = '0.1.47'

description = '19 Kislev Archive'

repositories {
  jcenter()
  mavenCentral()
  mavenLocal()
}

idea {
  module {
    excludeDirs += [
      file('.idea'),
      file('gradle')
    ]
  }
}

dependencies {
  runtimeOnly "org.opentorah:opentorah-collector:$opentorahVersion"
}

task postprocess(type: JavaExec) {
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.opentorah.collector.Main'
  args = ["$rootDir/docs"]
}
build.dependsOn(postprocess)
